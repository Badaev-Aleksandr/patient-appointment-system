Задача «Cистема записи пациентов на приём»
Цель задания
1.	Освоить базовую конфигурацию проекта на Spring Boot (запуск, application.properties).
2.	Научиться создавать сущности и репозиторий в Spring Data JPA.
3.	Настроить минимальный механизм аутентификации/авторизации через Spring Security (роль ADMIN и роль USER).
4.	Сделать форму регистрации новых пользователей (присваивается роль USER).
5.	Научиться разграничивать доступ в зависимости от роли.
Короткое описание
Вы создаёте веб-приложение “Упрощённая больница” со следующими возможностями:
•	Сущность Patient: хранит информацию о пациенте (ID, ФИО, дата рождения, и т. д.).
•	Сущность Appointment (Запись на приём): хранит ID, дату/время приема, ссылку на Patient (указывается, какой пациент записан).
•	Сущность User: хранит логин, пароль (BCrypt), роль (ROLE_ADMIN, ROLE_USER).
Роли:
•	ROLE_ADMIN: может просматривать и редактировать все записи (всех пациентов и все приёмы).
•	ROLE_USER: может просматривать только своих пациентов и приёмы (привязанных к нему).
•	В данной упрощённой модели можно считать, что каждый пользователь связан со своим пациентом (например, человек регистрируется как пациент).
Основные требования
1.	Spring Boot-проект с зависимостями:
•	spring-boot-starter-web
•	spring-boot-starter-data-jpa
•	spring-boot-starter-security
•	com.h2database:h2 (или любая другая СУБД, по желанию)
2.	Сущности и их связи (через JPA):
•	Patient: поля (id, name, birthday, …).
•	Appointment: поля (id, dateTime, patient_id). Связь ManyToOne (много записей -> один пациент).
•	User: поля (id, username, password, role).
3.	Хранение пользователей в таблице users:
•	Логин/пароль, роль (ROLE_ADMIN или ROLE_USER).
•	Пароль хранить в зашифрованном виде (использовать BCryptPasswordEncoder).
4.	Spring Security:
•	Настроить форму логина (/login).
•	Настроить роль ADMIN так, чтобы видеть и управлять всеми пациентами и всеми приёмами.
•	Настроить роль USER так, чтобы видеть только своего пациента и связанные с ним приёмы (можно установить связь User :pfeil_links_rechts: Patient, чтобы понимать, кто чей пациент).
5.	Регистрация пользователей:
•	Реализовать страницу /register, где пользователь может ввести логин/пароль и своё имя (для сущности Patient).
•	При регистрации автоматически создавать в базе User (с ролью ROLE_USER) и Patient (связанных между собой).
•	После регистрации пользователь может авторизоваться и работать только со своими данными.
6.	Контроллеры и сервисы:
•	RegistrationController (или AuthController) для регистрации.
•	PatientController и/или AppointmentController для CRUD-операций:
•	ADMIN может видеть/удалять/редактировать всех пациентов и все приёмы.
•	USER видит только свои данные (пациента, к которому он привязан, и его приёмы).
•	Можно использовать Thymeleaf для отображения форм и страниц (либо сделать REST + Postman).
7.	Инициализация данных (DataInitializer):
•	При старте приложения создавайте одного ADMIN (логин: admin, пароль: admin123).
•	Можно создать 1-2 тестовых USER-аккаунта, связанных с разными пациентами.
Итоговая проверка
1.	После запуска приложения (например, на localhost:8080) можете зайти под admin/admin123 и видеть:
•	Список всех пациентов (например, /patients).
•	Список всех приёмов (например, /appointments).
•	Возможность удалить/изменить любой приём.
2.	Создайте нового пользователя (через /register) с ролью USER. Зарегистрировался новый пациент (создана запись в patients и в users).
3.	Войти под этим новым логином/паролем. Теперь в /patients он (пользователь с ролью USER) должен видеть только своего пациента. В /appointments — только приёмы, относящиеся к нему.
4.	При попытке зайти на чужие данные — отказ в доступе (ошибка 403 или переадресация).